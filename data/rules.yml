version: "3.1"

rules:

- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Say 'I am a bot' anytime the user challenges
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: greet
  steps:
  - intent: greet
  - action: action_greet

# - rule: hr_policy
#   condition: 
#     - slot_was_set: 
#       - indicator: Null
#   steps:
#   - action: action_hr_policy
#   - intent: hr_policy

# - rule: Activate form
#   steps:
#   - intent: ask_question
#   - action: action_set_question
#   - action: action_form
#   - active_loop: question_form

# - rule: submit form
#   condition:
#   - active_loop: question_form
#   steps:
#   - intent: possible_responses
#   - slot_was_set:
#     - requested_slot: null
#   - action: validate_question_form
#   - action: action_set_question

# - rule: Activate form - applied context
#   steps:
#   - active_loop: applied_context_form
#   - action: action_set_applied_context_question

# - rule: submit form - applied context
#   steps:
#   - action: validate_applied_context_form
#   - action: action_set_applied_context_question

# - rule: continue flexible_work 1
#   steps:
#   - action: action_set_applied_context_question
#   - intent: action_custom_fallback
#   - action: action_validate_applied_context_form

# - rule: continue flexible_work 2
#   steps:
#   - intent: action_custom_fallback
#   - action: action_validate_applied_context_form

# - rule: continue applied_context 1
#   steps:
#   - action: action_set_applied_context_question
#   - intent: action_custom_fallback
#   - action: action_validate_applied_context_form

# - rule: continue applied_context 2
#   steps:
#   - intent: action_custom_fallback
#   - action: action_validate_applied_context_form
  
# - rule: continue eligibility_criteria 1
#   steps:
#   - action: action_set_eligibility_criteria_question
#   - intent: action_custom_fallback
#   - action: action_validate_eligibility_criteria

# - rule: continue eligibility_criteria 2
#   steps:
#   - intent: action_custom_fallback
#   - action: action_validate_eligibility_criteria

- rule: OutOfScope
  steps: 
  - intent: outofScope
  - action: action_custom_fallback

- rule: policy_observations_rule
  steps:
  - intent: policy_observations
  - action: action_handle_policy_feedback

- rule: select a flexible work
  steps:
  - intent: select_flexible_work_option
  - action: action_select_flexible_work_option

- rule: select a applied context
  steps:
  - intent: select_applied_context_option
  - action: action_applied_content

- rule: select a eligibility criteria
  steps:
  - intent: select_eligibility_criteria_option
  - action: action_eligibility_criteria

- rule: continue flexible work
  steps:
  - action: action_set_question
  - intent: outofScope
  - action: action_custom_fallback
  - action: action_validate_flexible_work

- rule: continue applied context
  steps:
  - action: action_set_applied_context_question
  - intent: outofScope
  - action: action_custom_fallback
  - action: action_validate_applied_context_form

- rule: continue eligibility_criteria 1
  steps:
  - action: action_set_eligibility_criteria_question
  - intent: outofScope
  - action: action_custom_fallback
  - action: action_validate_eligibility_criteria

- rule: logo
  steps:
  - intent: test_data
  - action: action_create_policy_document

- rule: color
  steps:
  - intent: brand_color
  # - action: action_confirm_brand_logo_color
  # - action: action_listen
  - action: action_confirm_brand_logo_color

- rule: feedback
  steps:
  - intent: policy_observations
  - action: action_handle_policy_feedback